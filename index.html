<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Distory Go - V54 SETTINGS</title>
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;600;700;900&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root { 
            --bg: #050510; 
            --panel: rgba(10, 15, 30, 0.85); 
            --border: rgba(59, 130, 246, 0.3); 
            --neon: #3b82f6;
        }
        body { background: var(--bg); color: #e2e8f0; font-family: 'Rajdhani', sans-serif; overflow: hidden; height: 100vh; user-select: none; perspective: 1000px; }

        /* FOND SYNTHWAVE ANIM√â */
        .cyber-grid { position: fixed; inset: -50%; width: 200%; height: 200%; background-image: linear-gradient(transparent 95%, rgba(59, 130, 246, 0.2) 95%), linear-gradient(90deg, transparent 95%, rgba(59, 130, 246, 0.2) 95%); background-size: 60px 60px; transform: perspective(500px) rotateX(60deg); animation: grid-move 20s linear infinite; z-index: -2; opacity: 0.3; }
        @keyframes grid-move { 0% { transform: perspective(500px) rotateX(60deg) translateY(0); } 100% { transform: perspective(500px) rotateX(60deg) translateY(60px); } }

        .layout { display: grid; grid-template-columns: 380px 1fr 320px; gap: 1.5rem; height: 100vh; padding: 1.5rem; transition: filter 0.3s; }
        .layout.blur { filter: blur(10px) brightness(0.4); pointer-events: none; }

        .panel { background: var(--panel); border: 1px solid var(--border); border-radius: 16px; display: flex; flex-direction: column; overflow: hidden; backdrop-filter: blur(10px); }
        .head { padding: 15px 20px; background: rgba(0,0,0,0.4); border-bottom: 1px solid var(--border); font-family: 'Share Tech Mono'; font-weight: bold; color: #93c5fd; display: flex; justify-content: space-between; align-items: center; }

        /* HERO & STATS */
        .hero-zone { height: 300px; display: flex; align-items: center; justify-content: center; background: radial-gradient(circle at center, rgba(59, 130, 246, 0.1) 0%, transparent 70%); }
        .hero-img { font-size: 130px; filter: drop-shadow(0 0 30px rgba(59, 130, 246, 0.4)); animation: float 3s ease-in-out infinite; }
        @keyframes float { 0%,100%{transform:translateY(0);} 50%{transform:translateY(-10px);} }

        /* BOUTONS */
        .btn-main { width: 100%; background: linear-gradient(180deg, #2563eb 0%, #1e3a8a 100%); border: 1px solid #60a5fa; border-bottom: 4px solid #1e40af; color: white; font-weight: 900; font-size: 28px; border-radius: 12px; padding: 15px; cursor: pointer; transition: 0.1s; }
        .btn-main:active { transform: translateY(4px); border-bottom-width: 0; }

        /* SLOTS */
        .slot { width: 100%; height: 60px; background: rgba(0,0,0,0.5); border: 2px solid #334155; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 28px; cursor: pointer; }
        .slot:hover { border-color: var(--neon); transform: translateY(-3px); transition: 0.2s; }

        /* MODAL SETTINGS */
        .modal-box { background: #0f172a; border: 2px solid var(--neon); padding: 40px; border-radius: 20px; text-align: center; width: 400px; box-shadow: 0 0 100px rgba(59, 130, 246, 0.2); }
        .hidden { display: none !important; }
        .toast { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); background: #1e3a8a; padding: 10px 25px; border-radius: 5px; font-weight: bold; z-index: 10000; border: 1px solid #60a5fa; }
    </style>
</head>
<body>

    <div class="cyber-grid"></div>
    <div id="toast-layer"></div>

    <div id="start-screen" class="fixed inset-0 bg-[#020617] z-[5000] flex flex-col items-center justify-center">
        <h1 class="text-7xl font-black text-white mb-12 italic tracking-tighter" style="text-shadow: 5px 5px 0 #3b82f6;">DISTORY GO</h1>
        <div class="grid grid-cols-3 gap-6 mb-12">
            <button onclick="Core.select('üêô')" class="text-7xl p-6 bg-slate-800 rounded-xl border-2 border-blue-500 hover:scale-110 transition">üêô</button>
            <button onclick="Core.select('üêπ')" class="text-7xl p-6 bg-slate-800 rounded-xl border-2 border-blue-500 hover:scale-110 transition">üêπ</button>
            <button onclick="Core.select('ü¶ä')" class="text-7xl p-6 bg-slate-800 rounded-xl border-2 border-blue-500 hover:scale-110 transition">ü¶ä</button>
            <button onclick="Core.select('ü¶å')" class="text-7xl p-6 bg-slate-800 rounded-xl border-2 border-blue-500 hover:scale-110 transition">ü¶å</button>
            <button onclick="Core.select('üêï')" class="text-7xl p-6 bg-slate-800 rounded-xl border-2 border-blue-500 hover:scale-110 transition">üêï</button>
            <button onclick="Core.select('üê±')" class="text-7xl p-6 bg-slate-800 rounded-xl border-2 border-blue-500 hover:scale-110 transition">üê±</button>
        </div>
        <p class="text-blue-400 font-mono">CHOISISSEZ UNE UNIT√â POUR D√âBUTER</p>
    </div>

    <div id="game-ui" class="layout blur">
        <div class="panel">
            <div class="head">
                <span>PILOTE</span>
                <button onclick="UI.modal('settings')" class="hover:text-white transition">‚öôÔ∏è</button>
            </div>
            <div class="hero-zone">
                <div id="vis-hero" class="hero-img">?</div>
                <div class="absolute top-4 right-4 text-right">
                    <div class="text-[10px] text-blue-300 uppercase font-bold">Niveau</div>
                    <div id="ui-lvl" class="text-3xl font-black">1</div>
                </div>
            </div>
            <div class="p-6 space-y-6">
                <div>
                    <div class="flex justify-between text-xs font-bold uppercase mb-1">Int√©grit√© <span id="ui-hp-txt">100/100</span></div>
                    <div class="w-full h-2 bg-black rounded-full overflow-hidden border border-slate-800"><div id="ui-hp-fill" class="h-full bg-red-600 transition-all duration-500"></div></div>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div class="stat-box"><div class="stat-label">PUISSANCE</div><div id="ui-atk" class="stat-value">10</div></div>
                    <div class="stat-box"><div class="stat-label">BLINDAGE</div><div id="ui-def" class="stat-value">0</div></div>
                </div>
            </div>
            <div class="mt-auto p-5 border-t border-white/10 flex gap-2">
                <div id="s-w" class="slot">‚öîÔ∏è</div><div id="s-h" class="slot">üõ°Ô∏è</div><div id="s-p" class="slot">üêæ</div>
            </div>
        </div>

        <div class="panel">
            <div class="head">ZONE 1-1 <div class="flex gap-4"><span>ü™ô <span id="ui-gold">0</span></span><span>‚ú® <span id="ui-perls">0</span></span></div></div>
            <div class="flex-grow flex flex-col items-center justify-center">
                <div id="enemy-box" class="hidden text-center scale-125">
                    <div class="w-48 h-1 bg-red-900 mx-auto mb-4"><div id="ui-en-bar" class="h-full bg-red-500"></div></div>
                    <div id="vis-enemy" class="text-9xl">üëæ</div>
                </div>
                <div id="story-box" class="text-center">
                    <h1 class="text-7xl font-black mb-2 uppercase italic">MISSION</h1>
                    <div class="px-6 py-1 border border-blue-500 rounded-full text-xs text-blue-300">SECTEUR 1</div>
                </div>
            </div>
            <div class="h-48 border-t border-white/10 p-4 grid grid-cols-[1fr_180px] gap-4">
                <div>
                    <div class="flex justify-between mb-2 text-[10px] font-bold text-gray-500">STOCKAGE <button onclick="Core.chest()" class="bg-purple-600 text-white px-2 rounded">COFFRE (5‚ú®)</button></div>
                    <div id="inv-grid" class="grid grid-cols-6 gap-2"></div>
                </div>
                <div class="flex flex-col justify-end">
                    <button onclick="Core.scan()" class="btn-main">RELANCER</button>
                    <div class="text-[10px] text-center mt-2 text-gray-600 font-bold">AUTO: ON | VIT: x2</div>
                </div>
            </div>
        </div>

        <div class="panel">
            <div class="head">JOURNAL DE BORD</div>
            <div id="logs" class="flex-grow p-4 text-xs font-mono text-blue-200 overflow-y-auto flex flex-col-reverse"></div>
            <div class="flex border-t border-white/10">
                <button class="flex-1 p-3 text-xs font-bold text-white border-b-2 border-blue-500">AVENTURE</button>
                <button onclick="UI.modal('hub')" class="flex-1 p-3 text-xs font-bold text-gray-500">BASE</button>
            </div>
        </div>
    </div>

    <div id="modal-overlay" class="fixed inset-0 bg-black/90 z-[10000] hidden flex items-center justify-center">
        <div id="modal-content" class="modal-box"></div>
    </div>

    <script>
        const DATA = { enemies:[{n:"Drone",i:"üõ∏",h:50,a:5}], items:[{n:"Lame",e:"‚öîÔ∏è",t:"weapon",s:10}] };
        let P = { char:null, gold:0, perls:20, stats:{hp:0,atk:0,def:0}, inv:[], eq:{weapon:null, head:null, pet:null} };
        let R = { active:false, day:0, hp:100, max:100, atk:10, def:0 };

        const Core = {
            select: (e) => { P.char=e; document.getElementById('start-screen').classList.add('hidden'); document.getElementById('game-ui').classList.remove('blur'); Core.save(); UI.refresh(); },
            save: () => localStorage.setItem('distory_v54', JSON.stringify(P)),
            hardReset: () => { if(confirm("Supprimer toute la progression ?")) { localStorage.clear(); location.reload(); } },
            
            scan: () => {
                if(!R.active) { R.active=true; R.day=1; UI.log("Mission d√©marr√©e."); }
                R.day++; Core.calc();
                if(R.day % 5 === 0) Core.fight();
                else { P.gold += 20; UI.log("> Ressources trouv√©es (+20 Or)"); }
                UI.refresh();
            },
            calc: () => { R.max=100+(P.stats.hp*20); R.atk=10+(P.stats.atk*5); R.def=P.stats.def*2; if(P.eq.weapon) R.atk+=P.eq.weapon.s; R.hp=R.max; },
            fight: () => { UI.scene('com'); setTimeout(()=>UI.scene('adv'), 2000); },
            chest: () => { if(P.perls>=5){ P.perls-=5; P.inv.push({...DATA.items[0],uid:Date.now()}); UI.refresh(); Core.save(); } }
        };

        const UI = {
            refresh: () => {
                document.getElementById('ui-gold').innerText=P.gold; document.getElementById('ui-perls').innerText=P.perls;
                document.getElementById('ui-atk').innerText=R.atk; document.getElementById('ui-def').innerText=R.def;
                document.getElementById('ui-hp-txt').innerText=`${R.hp}/${R.max}`;
                document.getElementById('ui-hp-fill').style.width=(R.hp/R.max*100)+"%";
                document.getElementById('vis-hero').innerText=P.char;
                let g=document.getElementById('inv-grid'); g.innerHTML='';
                P.inv.forEach(i=> { let d=document.createElement('div'); d.className="slot"; d.innerText=i.e; g.appendChild(d); });
            },
            log: (m) => { let l=document.getElementById('logs'); l.innerHTML+=`<div>${m}</div>`; },
            scene: (s) => { document.getElementById('enemy-box').classList.toggle('hidden', s!=='com'); document.getElementById('story-box').classList.toggle('hidden', s==='com'); },
            modal: (t) => {
                const overlay = document.getElementById('modal-overlay');
                const content = document.getElementById('modal-content');
                overlay.classList.remove('hidden');
                if(t==='settings') {
                    content.innerHTML = `<h2 class="text-2xl font-bold text-blue-400 mb-8">PARAM√àTRES</h2>
                        <button onclick="Core.hardReset()" class="w-full py-3 bg-red-900 border border-red-500 rounded font-bold mb-4 hover:bg-red-700">R√âINITIALISER LE COMPTE</button>
                        <button onclick="document.getElementById('modal-overlay').classList.add('hidden')" class="w-full py-3 bg-slate-700 rounded font-bold">RETOUR AU JEU</button>`;
                }
            }
        };

        window.onload = () => {
            let save = localStorage.getItem('distory_v54');
            if(save) { P = JSON.parse(save); if(P.char) { document.getElementById('start-screen').classList.add('hidden'); document.getElementById('game-ui').classList.remove('blur'); UI.refresh(); } }
        };
    </script>
</body>
</html>
